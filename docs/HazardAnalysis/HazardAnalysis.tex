\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{amsmath, mathtools}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{caption}
\usepackage{pdflscape}
\usepackage{afterpage}
\usepackage{fullpage}
\usepackage{titlesec}
\usepackage[shortlabels]{enumitem}
\usepackage[round]{natbib}
\usepackage{array}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
10/09/2022 & Arshdeep Aujla & Added table for FMEA\\
10/09/2022 & Alexander Van Kralingen & Updated Introduction, Scope, System Boundaries and Critical Assumptions\\
10/09/2022 & Alexander Van Kralingen & Fixed FMEA table placement\\
2022-10-19 & Joshua Chapman & FMEA table edits and description changed\\
... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\wss{You are free to modify this template.}

\section{Introduction}{
    Creating a product designed for consumer use requires a robust hazard identification and mitigation strategy before the product is released to the public. A hazard can be defined as any source of potential damage, harm or adverse health effects on something or someone \cite{CCOHS}. A hazard for the \progname{} system is anyhting that could either harm the user or cause system failure.
}

\section{Scope and Purpose of Hazard Analysis}{
    In this document, the potential cause for hazards will be explored in detail, as well as methods for preemptive detection, and recommended actions should the hazard still present itself. Its purpose is to identify potential sources for harm or failure and address them before they are presented in the finished product.
}

\section{System Boundaries and Components}{
    The \progname{} system is comprised of three main components:
    \begin{enumerate}
        \item The hardware including the chess pieces, board, microcontroller and all electronic components:
        \begin{itemize}
            \item LEDs
            \item Hall-Effect sensors
            \item LCD screen
            \item Connecting wires
            \item Power adapter
        \end{itemize}
        \item The nearby server to recieve data through a Bluetooth connection.
        \item The hosted Web Application used to connect to the game remotely.
    \end{enumerate}

    The boundary of this system begins at the chess board and ends at the Web Application (Web-App). The distance between the chess board and the server is spanned by a Bluetooth connection, and the server to the Web-App by Wi-Fi. The user will cross the system boundary by interacting with the hardware and the Web-App, however everything in between will be isolated within the system.
}

\section{Critical Assumptions}

The assumptions made in this document are meant to constrain the hazards to those present within typical operation. These assumptions are as follows:
\begin{enumerate}
    \item The chess board is operated in a dry environment.
    \item The server present will be capable of both Bluetooth and Wi-Fi connections.
    \item The user is not intentionally trying to disconnect the electronics within the board.
    \item The Web-App hosting platform will remain up and running without interruption.
\end{enumerate}

\section{Failure Modes and Effects Analysis}
{The failure modes and effects analysis is used to identify and analyze potential 
hazards to the system. Causes of failure discuss existing hazards that will have
negative effects on the system. Hazard detection details the methods used to distinguish
failures.Recommende actions explains the behavior of the system when the failures
occur. Likelihood is a scale to detail the frequency and probability-of-occurence
in the event of a failure. All of these methods are used to enhance requirement 
implementation and hazard prevention.} 

\begin{table}[!htbp]
    \centering
        \setlength{\leftmargini}{0.4cm}
        \begin{tabular}{| >{\centering\arraybackslash}m{2cm} | 
          >{\centering\arraybackslash}m{2cm} | 
          >{\centering\arraybackslash}m{4cm} |
          >{\centering\arraybackslash}m{2cm} |
          >{\centering\arraybackslash}m{3cm} |
          >{\centering\arraybackslash}m{1cm}|
          >{\centering\arraybackslash}m{1cm}|}
        \hline
        \rowcolor[gray]{0.9}
        Component & Failure & Causes & Detection & Recommended Action 
        & Likelihood & Requirements\\
        \hline

        Web Application & Loss of internet connection
        & \begin{enumerate}[label=(\alph*)]
            \item Internet outage
            \item Internet time-out 
            \item Board is taken out of connection range
        \end{enumerate} 
        & Ping the Internet and wait for the response 
        & Alert the user to check Internet connection 
        & 0.4 & SR3, SR4\\
        \hline

        Web Application & Connection lost between server and client
        & \begin{enumerate}[label=(\alph*)]
            \item Deployment hosting platform fails
            \item Platform is taken down for maintenance
        \end{enumerate} 
        & Loss of connection to the platform
        & Alert the user of the issue and wait accordingly
        & 0.1 & SR3, SR4\\
        \hline

        Microcontroller & Unable to detect starting game state &
        \begin{enumerate}[label=(\alph*)]
            \item A player begins with the pieces in the incorrect location
            \item Player does not follow the correct starting protocol
        \end{enumerate} 
        & Strict guidelines programmed in the microcontroller to prevent
        & Prompt user to make appropriate changes to pieces or board state
        & 0.2 & SR5\\ 
        \hline

        Microcontroller & Unable to follow game state &
        \begin{enumerate}[label=(\alph*)]
            \item A player makes two moves in a row
            \item A player makes an illegal move
            \item Loss of power to system
        \end{enumerate} 
        & Edge cases programmed on the controller
        & Prompt user to make appropriate action to the board
        & 0.3 & SR5\\ 
        \hline

        Microcontroller & Loss of Bluetooth connection & \begin{enumerate}[label=(\alph*)]
            \item Distance between microcontroller and host is too large
            \item Physical barriers between microcontroller and host
            \item Failed to initialise connection
            \item Packet loss from board to server
        \end{enumerate} 
        & Continuously monitor Bluetooth connection 
        & Prompt the user to re-establish connection before continuing 
        & 0.1 & SR3, SR4\\
        \hline

        Microcontroller & Loss of Power & \begin{enumerate}[label=(\alph*)]
            \item Board is unplugged
            \item Cable connection failure
            \item Power surge
        \end{enumerate} 
        & N/A
        & Store game state in local flash memory
        & 0.1 & SR3\\
        \hline

        Hall Sensor & Bad inputs & \begin{enumerate}[label=(\alph*)]
            \item Sensitivity loss over a period of time
            \item Interference from external magnetic objects
            \item Distance between sensor and object too large
        \end{enumerate} & Monitoring Hall sensor inputs 
        & \begin{enumerate}[label=(\alph*)]
            \item Prompt the user to clear area of obstacles from the board
            \item The sensor should be replaced after the recommended use time
        \end{enumerate} 
        & 0.1 & SR5\\
        \hline

        \end{tabular}
        \caption{Failure Mode and Effects Analysis}
    \end{table}
    \newpage
\section{Safety and Security Requirements}

\wss{Newly discovered requirements.  These should also be added to the SRS.  (A
rationale design process how and why to fake it.)}

\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}
\newpage

\bibliographystyle {plainnat}
\bibliography {../../refs/References}
\end{document}
